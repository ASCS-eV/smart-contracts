# Reference Implementation: Registration for ENVITED-X Assets

This folder contains the reference contract for the registration of assets as outlined in [EVES-003: ENVITED Asset Definition and Upload Process](https://github.com/ASCS-eV/EVES/blob/main/drafts/EVES-003/EVES-003.md). The reference metadata can be found in the üìÅ `metadata/` folder of the EVES-003 repository.

üìÅ `./`

- üìÑ `tzip16_contract_metadata.json`  
  *TZIP16 metadata of the smart contract deployed on Tezos.*

## Key Concepts

### Gaia-X Compliance

The metadata files follow the [Gaia-X Policy Rules Compliance Document (Release 24.11)](https://docs.gaia-x.eu/policy-rules-committee/compliance-document/24.11/). Compatibility with this release is a **TODO** in [EVES-003](https://github.com/ASCS-eV/EVES/blob/main/drafts/EVES-003/EVES-003.md).

### CID-Based Identification

All assets and metadata files are identified using CID v1, ensuring interoperability and immutability across the IPFS-based ENVITED-X Data Space.

### TZIP-21 Metadata

An example token can be reviewed [here](https://better-call.dev/ghostnet/opg/opQYqNZwkn4aq1gabM1Vi7ak539X56QZ1HjFf5yN8xcYy6Rg42s/contents). The `tzip21_asset_manifest.json` and `tzip21_token_metadata.json` demonstrate the mapping of asset information to TZIP-21 token metadata standards, as detailed in [EVES-003](https://github.com/ASCS-eV/EVES/blob/main/drafts/EVES-003/EVES-003.md).

## How to Use This Reference Implementation

1. **Validate Metadata**:
   - Use the provided SHACL files in the `shacls-and-ontologies/used-shacls/` folder to validate `manifest.json` and `domainMetadata.json`.
   - Ensure all required files and URLs referenced in the manifest are accessible.

2. **Prepare Metadata for IPFS**:
   - Upload the `tzip21_asset_manifest.json` and associated files to IPFS.
   - Convert relative file paths in `manifest.json` to CID-based IPFS URLs using the `tzip21_asset_manifest.json`.

3. **Integrate with ENVITED-X Data Space**:
   - Mint tokens using `tzip21_token_metadata.json`.

4. **Test and Debug**:
   - Compare local CID calculations with those generated by Pinata to ensure consistency.
   - Use this implementation as a baseline to adapt to your specific asset requirements.

## Related Documentation

- [EVES-003: ENVITED Asset Definition and Upload Process](https://github.com/ASCS-eV/EVES/blob/main/drafts/EVES-003/EVES-003.md)
- [Gaia-X 4 PLC-AAD Manifest Ontology](https://github.com/ASCS-eV/ontology-management-base/tree/main/manifest)
- [Pinata Documentation: Pinning CIDs](https://docs.pinata.cloud/web3/pinning/pinata-metadata#pinataoptions)
- [TZIP-21 Metadata Standard](https://tzip.tezos.com/proposal/tzip-21/)
